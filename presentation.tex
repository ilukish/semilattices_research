\documentclass{beamer}
\usepackage[T2A]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[english,russian]{babel}
%\usepackage[usenames,dvipsnames]{color}
\usepackage{amssymb,amsfonts,amsmath,mathtext}
\usepackage{cite,enumerate,float,indentfirst}
\usepackage{graphicx}
\usepackage{tikz}
\usepackage{verbatim}
\usepackage{listings}
\usepackage{amsthm,amscd,amsfonts,amssymb,amsfonts,amsmath,mathtext,cite,enumerate,float} 
\usepackage{mathtext}
\usepackage{indentfirst}
%\usepackage{relsize}

\setbeamertemplate{headline}{\hfill\insertframenumber/\inserttotalframenumber} 

\makeatletter
\g@addto@macro\@verbatim\small
\makeatother 

\title {Минимальное частично упорядоченное множество, не являющееся полигоном ни над какой полурешеткой}
%\title {Компьютерное моделирование полигонов над полурешётками}

\author{Лукиных И.А., Максимовский М.Ю.}
\date  {апрель 2011}

\newcommand{\green}{\color[rgb]{0,0.4,0}}
\newcommand{\purple}{\color[rgb]{0.4,0,0.4}}
\newcommand{\red}{\color[rgb]{0.7,0,0}}
\newcommand{\blue}{\color{blue}}

\newcommand{\statement}{%
	 {\bf \green УТВЕРЖДЕНИЕ:\ }}
\newcommand{\consequence}{%
     {\bf \green СЛЕДСТВИЕ:\ }}
\newcommand{\theor}{%
     {\bf \green ТЕОРЕМА:\ }}
\newcommand{\suggestion}{%
     {\bf \green ПРЕДЛОЖЕНИЕ:\ }}
\newcommand{\definit}{%
     {\bf \green ОПРЕДЕЛЕНИЕ:\ }}
\newcommand{\examp}{%
     {\bf \green ПРИМЕР:\ }}
\newcommand{\remark}{%
     {\bf \green ЗАМЕЧАНИЕ:\ }}
\newcommand{\question}{%
     {\bf \green ВОПРОС:\ }}
\newcommand{\goal}{%
     {\bf \green ЗАДАЧА:\ }}

\newcommand{\ddef}{%
	{\textit \blue 	}}
     
\newcommand{\retline}{
	
$ $

}

%\usetheme{Szeged}
%\usetheme{Singapore}
\usetheme{default}
\usecolortheme{rose}

\begin{document}

\lstset{
	language=Prolog,                        % Code langugage
	basicstyle=\ttfamily,                   % Code font, Examples: \footnotesize, 
	keywordstyle=\color{blue},              % Keywords font ('*' = uppercase)
	commentstyle=\color{gray},              % Comments font
	frame=lines,                            % 
	tabsize=4,                              % Default tab size
	numbers=left,
	numbersep=10pt
}

%% Титульная страница
\maketitle

\begin{frame}
{\bf {\blue} Полигон, полурешётка}

{\definit}
Множество $X$ называется \textit{\blue{полигоном над полугруппой}} $S$, если
$\forall x \in X, s \in S$, определено произведение
$xs \in X$ и выполняется равенство $x(st) = (xs)t$ при $t \in S$.
{\retline}

{\definit}
Частично упорядоченное множество $X$ называется \textit{\blue{полурешёткой}},
если $\forall a, b \in X$ существует $\inf (a, b)$. 
{\retline}

{\statement}
Полигон над полурешёткой является частично упорядоченным множеством  относительно порядка.
\begin{center}
$x \leq y \iff x \in yS^1 \ \ \forall x,y\in X, s\in S^1$.

\end{center}

\end{frame}

\begin{frame}
{\bf {\blue} Полигон над полугруппой}

{\retline}
Полигон над полугруппой является алгебраической моделью \textbf{автомата Мура}.
{\retline}

\textit{\blue{$(A, Q, f)$}} - автомат Мура, где $A$ - входной алфавит, $Q$ - множество состояний, $f: Q \times A \to Q $ - функция переходов.
{\retline}

Положим $f(q,a) = qa \ \ \forall q \in Q, a \in A$ и продолжим это действие на элементы из $A^*$, полагая $f(f(...f(f(q,a_1), a_2),...)a_n) = q a_1 a_2 ... a_n.$ 
{\retline}
Тогда \textit{\blue{$Q$}} - правый полигон над свободной полугруппой \textit{\blue{$A^*$}}.

\end{frame}

\begin{frame}
{\bf {\blue} Связное частично упорядоченное множество }

{\definit}
Частично упорядоченное множество $X$ называется \textit{\blue{связным}},
если $\forall x,y \in X$ существует последовательность элементов
$x_0,x_1, ... ,x_n \in X$ такая, что $x_0 = x, x_n = y$ и
$(x_{i+1} \leq x_i) \lor (x_i \leq x_{i+1})$ при 
$i = 0,1, ... , n$.

{\retline}

{\examp}

\begin{center}
\begin{tikzpicture}[line width=1.0pt]
  \draw (0,2) node [above left ] {$1$} -- (0,0);
  \draw (2,2) node [above left ] {$2$} -- (0,0);
  \draw (4,2) node [above right] {$3$} -- (2,0);
  \draw (0,0) node [below left ] {$4$} ;
  \draw (2,0) node [below left ] {$5$} -- (2,2);
  \draw (4,0) node [below right] {$6$} ;
  \draw (4,0) -- (4,2);
  \path[fill=black,draw=white] (0,0) circle (1.5mm);
  \path[fill=black,draw=white] (2,0) circle (1.5mm);
  \path[fill=black,draw=white] (4,0) circle (1.5mm);
  \path[fill=black,draw=white] (0,2) circle (1.5mm);
  \path[fill=black,draw=white] (2,2) circle (1.5mm);
  \path[fill=black,draw=white] (4,2) circle (1.5mm);
\end{tikzpicture}
\end{center}
\end{frame}

\begin{frame}
{\bf {\blue} Отображения над частично упорядоченными множествами}

{\definit}
Для частично упорядоченного множества $X$ обозначим через \textit{\blue{$\Phi(X)$}} множество таких отображений $\alpha : X \rightarrow X$, что:
\begin{itemize}
\item 
$\alpha^2 = \alpha$, ($\alpha$ - идемпотентное)
\item 
$\forall x,y \in X: x \leq y \implies x\alpha \leq y\alpha$, ($\alpha$ - изотонное)
\item 
$\forall x \in X: x\alpha \leq x$, ($\alpha$ - уменьшающее)
\item 
$x \leq y, y\alpha = y \implies x\alpha = x$
\end{itemize}
\end{frame}

\begin{frame}

{\definit}
Если $\forall x, y \in X$, где $X$ - частично упорядоченное множество, таких, что $x \leq y$, найдётся отображение $\alpha \in \Phi(X)$ такое, что $x = y\alpha$, то говорят, что $\Phi(X)$ действует на $X$ \textit{\blue{транзитивно}}.
{\retline}

%{\statement}
%$\Phi(X)$ - полурешётка.

{\retline}

{\theor}
%Необходимое и достаточные условие того, что частично упорядоченное множество является полигоном над некоторой полурешёткой.
Частично упорядоченное множество $X$ является полигоном над полурешёткой тогда и только тогда, когда $\Phi(X)$ действует на $X$ транзитивно.
\end{frame}

\begin{frame}

{\definit}
\textit{\blue{Нижним конусом}} $x^\nabla$ частично упорядоченного множества $X$ называется множество элементов $y \in X$ таких, что $y \leq x$.
{\retline}

Различные свойства полигонов над полурешётками уже рассмотрены в работе Максимовского М.Ю.
{\bf {\red} "О полигонах над полурешётками".}

{\retline}
{\theor}
\textbf{Необходимое} условие того, что частично упорядоченное множество $X$ является полигоном над некоторой полурешёткой: $\forall x \in X$ множество $x^\nabla$ является полурешёткой.

{\retline}
{\remark}
Это условие является необходимым, но не достаточным.
\end{frame}

\begin{frame}

{\examp}
Частично упорядоченное множество, для которого выполняется \textbf{необходимое} условие, но в то же время не являющееся полигоном ни над какой полурешеткой.

\begin{center}
\begin{tikzpicture}[line width=1.0pt]
  \draw (0,4.5) node [above left ] {$1$} -- (3,1.5);
  \draw (3,4.5) node [above right] {$2$} -- (0,3);
  \draw (0,3) node [above left ] {$3$} -- (0,1.5);
  \draw (3,3) node [above right ] {$4$} -- (0,1.5);
  \draw (0,1.5) node [above left ] {$5$} -- (1.5,0.5);
  \draw (3,1.5) node [above right ] {$6$} -- (3,3);
  \draw (1.5,0.5) node [below right] {$7$} -- (3,1.5);
  \draw (0,4.5) -- (0,3);
  \draw (3,4.5) -- (3,3);

  \path[fill=black,draw=white] (0,4.5) circle (1.5mm);
  \path[fill=black,draw=white] (3,4.5) circle (1.5mm);
  \path[fill=black,draw=white] (0,3) circle (1.5mm);
  \path[fill=black,draw=white] (3,3) circle (1.5mm);
  \path[fill=black,draw=white] (0,1.5) circle (1.5mm);
  \path[fill=black,draw=white] (3,1.5) circle (1.5mm);
  \path[fill=black,draw=white] (1.5,0.5) circle (1.5mm);
\end{tikzpicture}
\end{center}
\end{frame}


\begin{frame}

{\question}
Найдётся ли другое такое частично упорядоченное множество меньшей мощности, для которого справедливо:
\begin{enumerate}[(a)]
	\item
$\forall x \in X$ нижний конус $x^\nabla$ является полурешёткой;
	\item
$\Phi(X)$ действует на $X$ нетранзитивно?
\end{enumerate}
{\retline}

{\goal}
Средствами компьютерного моделирования разработать алгоритм поиска частично упорядоченного множества $X$, удовлетворяющего условиям \textit{(a)} и \textit{(b)}.
\end{frame}

\begin{frame} 
{\bf {\blue} Prolog }

{\question} Почему подобные задачи удобно решать с помощью Prolog'а?

\begin{itemize}
\item
декларативный язык программирования;
\item
логический язык программирования (любые структуры описываются предикатами);
\item
механизм поиска с возвратом (backtracking).
\end{itemize}

\end{frame}

\begin{frame}[fragile]

{\examp}
Проверка графа на односвязность.
{\retline}

\begin{lstlisting}
%% connective_graph( +RelationList, +Elements )
connective_graph( RelationList, Elements ) :-
    forall( ( member( X, Elements )
            , member( Y, Elements )
            , X < Y
            )
          , path( X,Y,RelationList,_ )
          ).
\end{lstlisting}

\end{frame}

\begin{frame}[fragile]
{\bf {\blue} Поиск с возвратом }

{\tt
?- member(X, [1,2,3,4,5]), X mod 2 =:= 0. \\*
\pause
X = 2 ; \\*
\pause
X = 4 ; \\*
\pause
false.
}

\pause
{\retline}

{\remark} В приведённом примере и тексте программы используется синтаксис Swi-Prolog
[\textit{{\bf {\blue http://www.swi-prolog.org/}}}].

Весь исходный код разработанного алгоритма можно найти на
[\textit{{\bf {\blue http://github/ilukish}}}].

\end{frame}

\begin{frame}
{\bf {\blue} Алгоритм поиска}

{\bf Шаг 1.}
Формирование множества $P$ всех частично упорядоченных множеств заданной мощности $N$ с точностью до изоморфизма; ($|P_{N=6}|=$ {\blue 27449})
\pause

{\bf Шаг 2.}
Выделение множества $C$ связных графов из множества $P$; ($|C_{N=6}|=$ {\blue 26704})
\pause

{\bf Шаг 3.}
Выделение множества $S$ таких частично упорядоченных множеств $X$ из множества $P$, что $\forall x \in X$ множество $x^\nabla$ является полурешёткой;  ($|S_{N=6}|=$ {\blue 9733})
\pause

{\bf Шаг 4.}
Формирование $\Phi(s)$ для каждого элемента $s \in S$;
\pause

{\bf Шаг 5.}
Выявление таких $s \in S$, на которых $\Phi(s)$  действует нетранзитивно.

\end{frame}


\begin{frame}[fragile]
{\bf Итог}

{\question}
Найдётся ли другое такое частично упорядоченное множество меньшей мощности, для которого справедливо:
\begin{enumerate}[(a)]
	\item
$\forall x \in X$ нижний конус $x^\nabla$ является полурешёткой;
	\item
$\Phi(X)$ действует на $X$ нетранзитивно?
\end{enumerate}
{\retline}

\begin{itemize}
\item
$N = 3$: не найдено
\item
$N = 4$: не найдено
\item
$N = 5$: не найдено
\item
$N = 6$: не найдено
\item
$N = 7$: ранее полученный пример
\end{itemize}
\end{frame}

\begin{frame}
{\examp}


\begin{center}
\begin{tikzpicture}[line width=1.0pt]
  \draw (0,3) node [above left ] {$1$} -- (2,1);
  \draw (2,3) node [above right] {$2$} -- (0,2);
  \draw (0,2) node [above left ] {$3$} -- (0,1);
  \draw (2,2) node [above right ] {$4$} -- (0,1);
  \draw (0,1) node [above left ] {$5$} -- (1,0);
  \draw (2,1) node [above right ] {$6$} -- (2,2);
  \draw (1,0) node [below right] {$7$} -- (2,1);
  \draw (0,3) -- (0,2);
  \draw (2,3) -- (2,2);

  \path[fill=black,draw=white] (0,3) circle (1.5mm);
  \path[fill=black,draw=white] (2,3) circle (1.5mm);
  \path[fill=black,draw=white] (0,2) circle (1.5mm);
  \path[fill=black,draw=white] (2,2) circle (1.5mm);
  \path[fill=black,draw=white] (0,1) circle (1.5mm);
  \path[fill=black,draw=white] (2,1) circle (1.5mm);
  \path[fill=black,draw=white] (1,0) circle (1.5mm);
\end{tikzpicture}
\end{center}
$\Phi(X)= \{$
{\tt
[1,2,3,4,5,6,7],
[3,3,3,5,5,7,7],
[5,5,5,5,5,7,7],
[6,6,7,6,7,6,7],
[7,7,7,7,7,7,7] }$\}$

\end{frame}

\begin{frame}
{\bf Итог}

{\question}
Найдётся ли другое такое частично упорядоченное множество меньшей мощности, для которого справедливо:
\begin{enumerate}[(a)]
	\item
$\forall x \in X$ нижний конус $x^\nabla$ является полурешёткой;
	\item
$\Phi(X)$ действует на $X$ нетранзитивно?
\end{enumerate}
{\retline}

{\consequence}
Таким образом, с помощью компьютерного моделирования доказано, что такого множества не существует. 

Иными словами, приведённое ранее 7-элементное множество является минимальным, удовлетворяющим заданным условиям.

\end{frame}


\end{document}